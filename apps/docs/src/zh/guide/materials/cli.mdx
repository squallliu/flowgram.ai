# ç‰©æ–™ç®¡ç† CLI

Flowgram æä¾›äº†ä¸“é—¨çš„ CLI å‘½ä»¤è¡Œå·¥å…·ï¼Œå¸®åŠ©ä½ ç®¡ç†é¡¹ç›®ä¸­çš„å®˜æ–¹ç‰©æ–™ã€‚

## å®‰è£…

å¯ä½¿ç”¨ npx ç›´æ¥è¿è¡Œï¼š

```bash
npx @flowgram.ai/cli@latest [command]
```

## åŒæ­¥ç‰©æ–™åˆ°é¡¹ç›®

ä½¿ç”¨ `materials` å‘½ä»¤å°†å®˜æ–¹ç‰©æ–™çš„æºä»£ç æ·»åŠ åˆ°ä½ çš„é¡¹ç›®ä¸­è¿›è¡Œå®šåˆ¶ï¼š

```bash
# äº¤äº’å¼é€‰æ‹©ç‰©æ–™
npx @flowgram.ai/cli@latest materials

# ç›´æ¥æŒ‡å®šç‰©æ–™
npx @flowgram.ai/cli@latest materials components/json-schema-editor

# æŒ‡å®šå¤šä¸ªç‰©æ–™ï¼ˆé€—å·åˆ†éš”ï¼‰
npx @flowgram.ai/cli@latest materials components/variable-selector,effect/provideJsonSchemaOutputs

# é€‰æ‹©å¤šä¸ªç‰©æ–™ï¼ˆäº¤äº’å¼å¤šé€‰ï¼‰
npx @flowgram.ai/cli@latest materials --select-multiple
```

è¿è¡Œåï¼ŒCLI ä¼šæç¤ºä½ é€‰æ‹©è¦æ·»åŠ åˆ°é¡¹ç›®ä¸­çš„ç‰©æ–™ï¼š

```console
ğŸš€ Welcome to @flowgram.ai form-materials CLI!
ğŸ“ Project: /path/to/your/project
ğŸ¯ Flowgram Version: 1.0.0
  - Target material root: /path/to/your/project/src/form-materials

ğŸš€ The following materials will be added to your project
ğŸ“¦ components/json-schema-editor
ğŸ“¦ components/variable-selector
ğŸ“¦ effect/provideJsonSchemaOutputs

âœ… These npm dependencies is added to your package.json
- @semi-design/icons
- lodash-es
- classnames

â¡ï¸ Please run npm install to install dependencies
```

### é«˜çº§é€‰é¡¹

`materials` å‘½ä»¤æ”¯æŒä»¥ä¸‹é€‰é¡¹ï¼š

| é€‰é¡¹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `--refresh-project-imports` | åˆ·æ–°é¡¹ç›®ä¸­å¯¹å¤åˆ¶ç‰©æ–™çš„å¯¼å…¥è·¯å¾„ | `npx @flowgram.ai/cli@latest materials components/json-schema-editor --refresh-project-imports` |
| `--target-material-root-dir <dir>` | æŒ‡å®šç‰©æ–™å¤åˆ¶çš„ç›®æ ‡ç›®å½• | `npx @flowgram.ai/cli@latest materials --target-material-root-dir src/custom-materials` |
| `--select-multiple` | å¯ç”¨äº¤äº’å¼å¤šé€‰æ¨¡å¼ | `npx @flowgram.ai/cli@latest materials --select-multiple` |

## æŸ¥æ‰¾å·²ä½¿ç”¨çš„ç‰©æ–™

ä½¿ç”¨ `find-used-materials` å‘½ä»¤åˆ†æé¡¹ç›®ä»£ç ï¼Œæ‰¾å‡ºæ‰€æœ‰å·²ä½¿ç”¨çš„å®˜æ–¹ç‰©æ–™ï¼š

```bash
npx @flowgram.ai/cli@latest find-used-materials
```

è¾“å‡ºç¤ºä¾‹ï¼š

```console
ğŸš€ Welcome to @flowgram.ai form-materials CLI!
ğŸ“ Project: /path/to/your/project
ğŸ¯ Flowgram Version: 1.0.0

ğŸ‘€ The exports of components/json-schema-editor is JsonSchemaEditor,JsonSchemaEditorProps
ğŸ‘€ The exports of components/variable-selector is VariableSelector,VariableSelectorProps

ğŸ‘€ Searching src/components/MyForm.tsx
ğŸ” import { JsonSchemaEditor } from '@flowgram.ai/form-materials'
import components/json-schema-editor by JsonSchemaEditor

ğŸ‘€ Searching src/pages/Settings.tsx
ğŸ” import { VariableSelector } from '@flowgram.ai/form-materials'
import components/variable-selector by VariableSelector

ğŸ“¦ All used materials:
components/json-schema-editor,components/variable-selector
```

è¿™ä¸ªå‘½ä»¤ä¼šï¼š
- æ‰«æé¡¹ç›®ä¸­æ‰€æœ‰çš„ TypeScript æ–‡ä»¶
- åˆ†æä» `@flowgram.ai/form-materials` çš„å¯¼å…¥è¯­å¥
- è¯†åˆ«å‡ºä½¿ç”¨çš„å…·ä½“ç‰©æ–™
- è¾“å‡ºè¯¦ç»†çš„ä½¿ç”¨ä½ç½®ä¿¡æ¯

## Case Run Down

### å°†é¡¹ç›®ä¸­æ‰€æœ‰ä½¿ç”¨åˆ°çš„å®˜æ–¹ç‰©æ–™ï¼Œä»£ç åŒæ­¥åˆ°é¡¹ç›®çš„ src/custom-materials ç›®å½•

1. ä½¿ç”¨ `find-used-materials` å‘½ä»¤æŸ¥çœ‹é¡¹ç›®ä¸­ä½¿ç”¨åˆ°çš„å®˜æ–¹ç‰©æ–™ã€‚

```bash
npx @flowgram.ai/cli@latest find-used-materials
```

å‘½ä»¤è¿è¡Œåï¼Œä¼šè¾“å‡ºé¡¹ç›®ä¸­ä½¿ç”¨åˆ°çš„å®˜æ–¹ç‰©æ–™åˆ—è¡¨ã€‚

```console
ğŸ“¦ All used materials:
components/json-schema-editor,components/variable-selector
```

2. ä½¿ç”¨ `materials` å‘½ä»¤å°†è¿™äº›ç‰©æ–™çš„æºä»£ç æ·»åŠ åˆ°é¡¹ç›®çš„ src/custom-materials ç›®å½•ã€‚

```bash
npx @flowgram.ai/cli@latest materials components/json-schema-editor,components/variable-selector \
  --target-material-root-dir src/custom-materials \
  --refresh-project-imports
```

- `--refresh-project-imports` é€‰é¡¹ä¼šåˆ·æ–°é¡¹ç›®ä¸­å¯¹å¤åˆ¶ç‰©æ–™çš„å¯¼å…¥è·¯å¾„ï¼Œç¡®ä¿ä½¿ç”¨çš„æ˜¯æœ€æ–°çš„å®šåˆ¶ç‰ˆæœ¬ã€‚
- `--target-material-root-dir src/custom-materials` é€‰é¡¹æŒ‡å®šäº†ç‰©æ–™å¤åˆ¶çš„ç›®æ ‡ç›®å½•ä¸º src/custom-materialsã€‚


## å¸¸è§é—®é¢˜

### Q: CLI æ·»åŠ åæ‰¾ä¸åˆ°æ–°å¢çš„ä¾èµ–é¡¹ç›®ï¼Ÿ
A: è¯·æ£€æŸ¥æ˜¯å¦è¿è¡Œäº† `npm install` å®‰è£…æ–°æ·»åŠ çš„ä¾èµ–ã€‚


